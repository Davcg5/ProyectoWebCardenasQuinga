<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Hacienda</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet"
          href="/bootstrap-4.0.0-dist/css/animate.css">

    <link rel="stylesheet"
          href="/projec/bootstrap-4.0.0-dist/css/mis-estilos.css">
</head>
<body>
<div class="container">

    <% const existeMensaje = typeof mensaje !== "undefined" ? true : false; %>



    <% if(existeMensaje){ %>
        <div class="animated fadeOut alert alert-<%= accion %>" role="alert">
            MENSAJE: <%= mensaje %>
        </div>
    <% } %>




    <% var apellido = 'Cardenas' %>
    <!-- h1 -> Header 1 -->
    <h1> Lista de haciendas</h1>
    <p>Crea, edita, actualiza y busca haciendas. Puedes buscar
        haciendas por nombre o descripcion.
    </p>
    <!-- p -> parrafo -->

    <!-- a -> anchor-->


    <script>
        function holaMundo(evento) {
            console.log(evento)
            evento.preventDefault();
            const respuesta = confirm('¿Estas seguro?')
            console.log('Hola mundo')
        }
        function borrar(evento) {
            const respuesta = confirm('¿Estas seguro?')
            if (!respuesta) {
                event.preventDefault();
            }
        }
    </script>


    <form action="/Hacienda/Hacienda" method="get">
        <div class="row">
            <div class="col-sm-9">

                <div class="form-group">
                    <label for="busqueda">Busqueda</label>
                    <input id="busqueda"
                           type="text"
                           class="form-control"
                           name="busqueda">
                </div>

            </div>
            <div class="col-sm-3">

                <button class="btn btn-outline-info btn-block btn-buscar"
                        type="submit">Buscar</button>

            </div>
        </div>
    </form>

    <div class="row">
        <div class="col-sm-9"></div>
        <div class="col-sm-3">
            <a class="quitar-decoracion" href="/Hacienda/crear-hacienda">
                <button class="btn btn-outline-success btn-espaciado btn-block">
                    Crear Hacienda
                </button>
            </a>
        </div>
    </div>
    <h2> Arreglo </h2>




    <table class="table table-hover animated fadeInUp">
        <caption>Lista de Haciendas</caption>
        <!-- tr -> table row -->
        <thead>
        <tr>
            <!-- th -> table header -->
            <th width="30%">Nombre</th>
            <th width="50%">Direccion</th>

            <th width="20%">Telefono</th>
            <th width="20%">Region</th>
        </tr>
        </thead>
        <!-- tr -> table row -->
        <tbody>
        <% arreglo.forEach((hacienda)=>{ %>
            <tr>
                <!-- td -> table detail -->
                <td><%= hacienda.nombre %></td>
                <td><%= hacienda.direccion %></td>
                <td><%= hacienda.telefono %></td>
                <td><%= hacienda.region %></td>

                <td>
                    <form action="/Hacienda/borrar/<%= hacienda.id %>"
                          method="post"
                    >
                        <!--<button type="button">Yo no</button>-->
                        <!--<button>Yo si</button>-->
                        <button type="submit"
                                class="btn btn-outline-danger btn-block btn-espaciado"
                                onclick="borrar(event)">Eliminar
                        </button>
                    </form>
                    <a class="quitar-decoracion" href="/Hacienda/actualizar-hacienda/<%= hacienda.id %>">
                        <button class="btn btn-outline-info btn-block btn-espaciado"
                                type="button">
                            Actualizar
                        </button>
                    </a>
                </td>
            </tr>
        <% }) %>
        </tbody>
    </table>



</div>
</body>
</html>